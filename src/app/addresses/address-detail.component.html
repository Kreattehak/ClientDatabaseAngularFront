<div class="container" *ngIf="activeAddress">
  <form [formGroup]="addressForm" class="form-horizontal" novalidate (ngSubmit)="onSubmit(activeAddress.id)">
    <fieldset>

      <legend *ngIf="!isNewAddress; else newAddress">Address to be edited: {{activeAddress.streetName}}, {{activeAddress.cityName}}, {{activeAddress.zipCode}}
      </legend>
      <ng-template #newAddress>
        <legend>Add new address for client {{activeClient?.firstName}}  {{activeClient?.lastName}}</legend>
      </ng-template>

      <div class="form-group">
        <label class="control-label col-lg-2" for="id">Address ID</label>
        <div class="col-lg-5">
          <input class="form-control" id="id" type="text"
                 [placeholder]="activeAddress.id ? activeAddress.id : 'ID will be generated by server'"
                 formControlName="id" readonly="true"/>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label" for="streetName">Street Name</label>
        <div class="col-lg-5">
          <input class="form-control" id="streetName" type="text"
                 placeholder="Street Name" formControlName="streetName"/>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label" for="cityName">City Name</label>
        <div class="col-lg-5">
          <input class="form-control" id="cityName" type="text"
                 placeholder="City Name" formControlName="cityName"/>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label" for="zipCode">Zip Code</label>
        <div class="col-lg-5">
          <input class="form-control" id="zipCode" type="text"
                 placeholder="Zip Code"
                 formControlName="zipCode"/>
        </div>
      </div>

      <div class="form-group">
        <div class="col-lg-offset-2 col-lg-1">
          <input type="submit" class="btn btn-primary" [value]="isNewAddress ? 'Dodaj' : 'Edytuj'"
                 [disabled]="!addressForm.valid || submitted"/>
        </div>
        <div class="col-lg-offset-0 col-lg-1">
          <button type="button" class="btn btn-warning" (click)="onBack()">
            Back
          </button>
        </div>
      </div>

    </fieldset>
  </form>

  <div *ngIf="formErrors.cityName || formErrors.streetName || formErrors.zipCode && addressForm.touched" class="alert alert-danger">
    <p>{{ formErrors.streetName }}</p>
    <p>{{ formErrors.cityName }}</p>
    <p>{{ formErrors.zipCode }}</p>
  </div>

</div>
