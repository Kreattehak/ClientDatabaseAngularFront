<div class="container">
  <form [formGroup]="clientForm" class="form-horizontal" novalidate (ngSubmit)="onSubmit(activeClient.id)">
    <fieldset>

      <legend *ngIf="activeClient.id; else newClient">Client to be edited: {{activeClient?.firstName}}
        {{activeClient?.lastName}}
      </legend>
      <ng-template #newClient>
        <legend>Add new client</legend>
      </ng-template>

      <div class="form-group">
        <label class="control-label col-lg-2" for="id">Client ID</label>
        <div class="col-lg-5">
          <input class="form-control" id="id" type="text"
                 [placeholder]="activeClient.id ? activeClient.id : 'ID will be generated by server'"
                 formControlName="id" readonly="true"/>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label" for="firstName">First Name</label>
        <div class="col-lg-5">
          <input class="form-control" id="firstName" type="text"
                 placeholder="First Name" formControlName="firstName"/>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label" for="lastName">Last Name</label>
        <div class="col-lg-5">
          <input class="form-control" id="lastName" type="text"
                 placeholder="Last Name" formControlName="lastName"/>
        </div>
      </div>

      <div class="form-group" *ngIf="!activeClient.id">
        <div class="col-lg-offset-2 col-lg-8">
          <input type="checkbox" [checked]="shouldRedirectToAddressForm"
                 (change)="shouldRedirectToAddressForm = !shouldRedirectToAddressForm"/>
          After submit forward me to new address form
        </div>
      </div>
      <div class="form-group">
        <div class="col-lg-offset-2 col-lg-1">
          <input type="submit" class="btn btn-primary" [value]="isNewClient ? 'Dodaj': 'Edytuj'"
                 [disabled]="!clientForm.valid || submitted"/>
        </div>
        <div class="col-lg-offset-0 col-lg-1">
          <button type="button" class="btn btn-warning" (click)="goBack()">
            Back
          </button>
        </div>
      </div>

    </fieldset>
  </form>

  <div *ngIf="formErrors.firstName || formErrors.lastName" class="alert alert-danger">
    <p>{{ formErrors.firstName }}</p>
    <p>{{ formErrors.lastName }}</p>
  </div>

</div>
