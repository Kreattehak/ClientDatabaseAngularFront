<div class="container">
  <form [formGroup]="clientForm" class="form-horizontal" novalidate (ngSubmit)="onSubmit(activeClient.id)">
    <fieldset>

      <legend *ngIf="isNewClient; else oldClientLegend" i18n="@@clientForm.legendAddClient">
        Add new client
      </legend>
      <ng-template #oldClientLegend>
        <legend i18n="@@clientForm.legendEditClient">Client to be edited: {{ activeClient?.firstName }}
          {{ activeClient?.lastName }}
        </legend>
      </ng-template>

      <div class="form-group">
        <label class="control-label col-lg-2" for="id" i18n="@@clientForm.clientId">Client ID</label>
        <div class="col-lg-5">
          <input *ngIf="isNewClient; else idMessage" class="form-control" id="emptyId" type="text"
                 placeholder="ID will be generated by server" formControlName="id" readonly
                 i18n-placeholder="@@idPlaceholder"/>
          <ng-template #idMessage>
            <input class="form-control" id="id" type="text"
                   placeholder="{{ activeClient.id }}" formControlName="id" readonly/>
          </ng-template>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label" for="firstName" i18n="@@clientForm.firstName">First Name</label>
        <div class="col-lg-5">
          <input class="form-control" id="firstName" type="text"
                 placeholder="First Name" formControlName="firstName"
                 i18n-placeholder="@@clientForm.firstName" (blur)="validateOnBlur()"/>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label" for="lastName" i18n="@@clientForm.lastName">Last Name</label>
        <div class="col-lg-5">
          <input class="form-control" id="lastName" type="text"
                 placeholder="Last Name" formControlName="lastName"
                 i18n-placeholder="@@clientForm.lastName" (blur)="validateOnBlur()"/>
        </div>
      </div>

      <div class="form-group" *ngIf="isNewClient">
        <div class="col-lg-offset-2 col-lg-8">
          <input type="checkbox" [checked]="shouldRedirectToAddressForm"
                 (change)="shouldRedirectToAddressForm = !shouldRedirectToAddressForm"
                 i18n="@@clientForm.shouldForward"/> After submit forward me to new address form
        </div>
      </div>
      <div class="form-group">
        <div class="col-lg-offset-2 col-lg-1">
          <input type="submit" class="btn btn-primary" *ngIf="isNewClient; else oldClient" value="Add"
                 [disabled]="!clientForm.valid || submitted" i18n-value="@@addButton"/>
          <ng-template #oldClient>
            <input type="submit" class="btn btn-primary" value="Edit" i18n-value="@@editButton"
                   [disabled]="!clientForm.valid || submitted"/>
          </ng-template>
        </div>
        <div class="col-lg-offset-0 col-lg-1">
          <button type="button" class="btn btn-warning" (click)="onBack()" i18n="@@backButton">Back</button>
        </div>
      </div>

    </fieldset>
  </form>

  <div *ngIf="formErrors.firstName || formErrors.lastName"
       id="form-error-messages" class="alert alert-danger">
    <p>{{ formErrors.firstName }}</p>
    <p>{{ formErrors.lastName }}</p>
  </div>

</div>
